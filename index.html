<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>Изменение климата</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
    /* Стили — без изменений */
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      background-color: black;
      color: white;
    }

    a {
      text-decoration: none;
    }

    .top-bar {
      background-color: #000;
      padding: 12px 40px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      border-bottom: 1px solid #333;
    }

    .logo {
      font-size: 24px;
      font-weight: bold;
    }

    .logo a {
      color: white;
    }

    .logo a:hover {
      color: #ccc;
    }

    .main-nav {
      display: flex;
      gap: 30px;
    }

    .main-nav a {
      font-size: 16px;
      color: white;
      font-weight: bold;
    }

    .main-nav a:hover {
      color: #ccc;
    }

    .submenu {
      background: #222;
      display: flex;
      justify-content: center;
      padding: 12px 0;
      gap: 30px;
      border-bottom: 1px solid #333;
    }

    .submenu a {
      font-size: 16px;
      font-weight: bold;
      color: white;
    }

    .submenu a:hover {
      color: #ccc;
    }

    .hero {
      position: relative;
      height: 650px;
      display: flex;
      align-items: center;
      padding: 0 60px;
      overflow: hidden;
    }

    .hero-video {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      object-fit: cover;
      z-index: -1;
    }

    .hero-text {
      max-width: 600px;
      position: relative;
      z-index: 1;
      text-shadow: 0 2px 4px rgba(0,0,0,0.5);
    }

    .hero-text h1 {
      font-size: 48px;
      margin-bottom: 20px;
      font-weight: bold;
    }

    .hero-text p {
      font-size: 18px;
      line-height: 1.5;
    }

    .stats {
      display: flex;
      justify-content: space-around;
      padding: 30px 40px;
      flex-wrap: wrap;
      border-top: 1px solid #333;
      border-bottom: 1px solid #333;
    }

    .stat {
      text-align: center;
      margin: 15px;
      min-width: 160px;
    }

    .stat .title {
      font-weight: bold;
      font-size: 16px;
      margin-bottom: 8px;
    }

    .stat .value {
      font-size: 28px;
      color: red;
      margin-bottom: 5px;
      font-weight: bold;
    }

    .stat .desc {
      font-size: 13px;
      color: #ccc;
    }

    .white-section {
      background-color: #ffffff;
      color: #000;
      padding: 80px 20px;
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      align-items: center;
    }

    .text-block {
      flex: 1 1 500px;
      padding: 20px 40px;
    }

    .text-block h2 {
      font-size: 42px;
      margin-bottom: 20px;
    }

    .text-block p {
      font-size: 20px;
      line-height: 1.6;
    }

    .video-block {
      flex: 1 1 600px;
      display: flex;
      justify-content: center;
      padding: 20px;
    }

    .video-block video {
      width: 100%;
      max-width: 700px;
      height: auto;
      border-radius: 16px;
      box-shadow: 0 0 20px rgba(0, 0, 0, 0.3);
    }

    .sim-button {
      display: inline-block;
      margin-top: 30px;
      padding: 14px 28px;
      background-color: #0077cc;
      color: white;
      font-weight: bold;
      border: none;
      border-radius: 8px;
      font-size: 18px;
      transition: background 0.3s ease;
    }

    .sim-button:hover {
      background-color: #005fa3;
    }

    @media (max-width: 768px) {
      .white-section {
        flex-direction: column;
        padding: 40px 20px;
      }

      .text-block {
        padding: 0 20px 40px 20px;
        text-align: center;
      }
      
      .hero {
        height: 500px;
        padding: 0 20px;
      }
      
      .hero-text h1 {
        font-size: 36px;
      }
      
      .hero-text p {
        font-size: 16px;
      }
    }
    
    @media (max-width: 480px) {
      .top-bar {
        padding: 12px 20px;
      }
      
      .main-nav {
        gap: 15px;
      }
      
      .submenu {
        flex-wrap: wrap;
        gap: 15px;
        padding: 8px 0;
      }
      
      .stats {
        padding: 20px 10px;
      }
      
      .stat {
        min-width: 120px;
        margin: 10px;
      }
      
      .stat .value {
        font-size: 22px;
      }
    }
    
    /* Ленивая загрузка видео */
    .lazy-video {
      background-color: #000;
    }
    
    .lazy-video.loaded {
      background-color: transparent;
    }
  </style>
  
  <!-- Preload важных ресурсов -->
  <link rel="preload" href="https://cdn.pixabay.com/video/2016/02/10/2118-155244104_large.mp4" as="video" type="video/mp4">
</head>
<body>

  <!-- Верхняя панель -->
  <div class="top-bar">
    <div class="logo"><a href="index.html">Главная</a></div>
    <nav class="main-nav">
      <a href="primer.html">Карта</a>
      <a href="kr.html">Диаграммы</a>
      <a href="primer.html">Источники</a>
    </nav>
  </div>

  <!-- Подменю -->
  <nav class="submenu">
    <a href="ПОТЕПЛ.html">Глобальное потепление</a>
    <a href="море.html">Уровень моря</a>
    <a href="тепл море.html">Потепление океана</a>
    <a href="co2.html">Углекислый газ</a>
    <a href="лед.html">Ледяные щиты</a>
  </nav>

  <!-- Герой секция с видео-фоном -->
  <section class="hero">
    <video class="hero-video lazy-video" autoplay muted loop playsinline preload="auto">
      <source src="https://cdn.pixabay.com/video/2016/02/10/2118-155244104_large.mp4" type="video/mp4">
      <!-- Fallback для браузеров, не поддерживающих video -->
      <img src="placeholder-hero.jpg" alt="Изменение климата" style="width:100%;height:100%;object-fit:cover;">
    </video>
    <div class="hero-text">
      <h1>Изменение климата</h1>
      <p>Климат играет ключевую роль в нашей жизни и оказывает влияние на множество природных и социальных процессов</p>
    </div>
  </section>

  <!-- Статистика -->
  <section class="stats">
    <div class="stat">
      <div class="title">Глобальное потепление</div>
      <div class="value">+1.2°C</div>
      <div class="desc">с 1880 года</div>
    </div>
    <div class="stat">
      <div class="title">Углекислый газ</div>
      <div class="value">+93 ppm</div>
      <div class="desc">с 2002 года</div>
    </div>
    <div class="stat">
      <div class="title">Уровень моря</div>
      <div class="value">+4 M</div>
      <div class="desc">с 1993 года</div>
    </div>
    <div class="stat">
      <div class="title">Потепление океана</div>
      <div class="value">+372 ZJ</div>
      <div class="desc">с 1955 года</div>
    </div>
    <div class="stat">
      <div class="title">Ледяные щиты</div>
      <div class="value">-403 млрд т</div>
      <div class="desc">в год</div>
    </div>
  </section>

  <!-- 1. Секция: Глобальное потепление (белый фон) -->
  <section id="global-warming" class="white-section" style="background-color: #f3f3f3; color: #000;">
    <div class="text-block">
      <h2>Глобальное потепление</h2>
      <p>
        Средняя температура Земли растёт с конца 19 века. Основной причиной считается деятельность человека — выбросы парниковых газов. Последствия включают засухи, пожары, изменение климата и ухудшение условий жизни.
      </p>
      <a class="sim-button" href="simulator.html">Перейти к симулятору</a>
    </div>
    <div class="video-block">
      <video class="lazy-video" autoplay muted loop playsinline preload="none" data-src="https://cdn.pixabay.com/video/2023/04/25/160401-821086405_large.mp4">
        <!-- Fallback изображение -->
        <img src="placeholder-global-warming.jpg" alt="Глобальное потепление" style="width:100%;height:auto;border-radius:16px;">
      </video>
    </div>
  </section>

  <!-- 2. Секция: Выбросы CO₂ (чёрный фон) -->
  <section class="white-section" style="background-color: #000; color: #fff;">
    <div class="text-block">
      <h2>Выбросы углекислого газа</h2>
      <p>
        Выбросы CO₂, вызванные деятельностью человека, усиливают парниковый эффект, способствуя глобальному потеплению. Основные источники — сжигание ископаемого топлива, промышленность и вырубка лесов.
        Мониторинг выбросов помогает учёным и политикам разрабатывать эффективные меры по борьбе с изменением климата.
      </p>
      <a class="sim-button" href="simulator.html">Перейти к симулятору</a>
    </div>
    <div class="video-block">
      <video class="lazy-video" autoplay muted loop playsinline preload="none" data-src="https://cdn.pixabay.com/video/2019/07/29/25608-350962918_large.mp4">
        <img src="placeholder-co2.jpg" alt="Выбросы CO2" style="width:100%;height:auto;border-radius:16px;">
      </video>
    </div>
  </section>

  <!-- Секция: Поднятие уровня моря (текст выше анимации) -->
  <section id="sea-level-rise" style="background-color: #f3f3f3; padding: 60px 20px 20px;">
    <h2 style="text-align: center; font-size: 36px; margin-bottom: 20px; color: #000; font-family: 'Arial', sans-serif; font-weight: bold;">
      Поднятие уровня моря
    </h2>
    <p style="text-align: center; font-size: 20px; max-width: 900px; margin: 0 auto; color: #000; font-family: 'Verdana', sans-serif; line-height: 1.6;">
      Изменение климата вызывает повышение уровня моря, что угрожает прибрежным регионам. Таяние ледников, усиление штормов и наводнений - всё это последствия глобального потепления, которое ускоряет этот процесс. Это может привести к затоплению значительных территорий.
    </p>
  </section>

  <!-- Секция: Видео-анимация -->
  <section id="global-warming-video" style="position: relative; background-color: #000; padding: 0; margin: 0; overflow: hidden; height: 600px;">
    <video class="lazy-video" autoplay muted playsinline loop preload="none" data-src="https://cdn.pixabay.com/video/2018/11/16/19368-301525727_large.mp4" style="
      width: 100%;
      height: 100%;
      object-fit: cover;
      display: block;
    ">
      <img src="placeholder-sea-level.jpg" alt="Уровень моря" style="width:100%;height:100%;object-fit:cover;">
    </video>
    <a href="simulator.html" style="
      position: absolute;
      bottom: 30px;
      left: 50%;
      transform: translateX(-50%);
      background-color: #0077cc;
      color: white;
      font-weight: bold;
      padding: 14px 28px;
      border-radius: 8px;
      font-size: 18px;
      text-decoration: none;
      transition: background 0.3s ease;
    " onmouseover="this.style.backgroundColor='#005fa3'" onmouseout="this.style.backgroundColor='#0077cc'">
      Перейти к симулятору
    </a>
  </section>

  <!-- 3. Секция: Потепление океана (белый фон) -->
  <section id="ocean-warming" class="white-section" style="background-color: #f3f3f3; color: #000;">
    <div class="text-block">
      <h2>Потепление океана</h2>
      <p>
        Океаны поглощают большую часть тепла, вызванного глобальным потеплением. Это ведёт к повышению температуры воды, угрожая морским экосистемам, таким как коралловые рифы, и способствуя более сильным ураганам.
      </p>
      <a class="sim-button" href="simulator.html">Перейти к симулятору</a>
    </div>
    <div class="video-block">
      <video class="lazy-video" autoplay muted loop playsinline preload="none" data-src="https://cdn.pixabay.com/video/2020/01/18/31377-386628887_large.mp4">
        <img src="placeholder-ocean.jpg" alt="Потепление океана" style="width:100%;height:auto;border-radius:16px;">
      </video>
    </div>
  </section>

  <!-- 4. Секция: Таяние ледников (чёрный фон) -->
  <section id="glaciers" class="white-section" style="background-color: #000; color: #fff;">
    <div class="text-block">
      <h2>Таяние ледников</h2>
      <p>
        Потепление климата усиливает таяние ледников, особенно в Арктике и горных районах. Это влияет на уровень моря, разрушает экосистемы и угрожает пресноводным источникам. NASA использует спутники и инструменты для отслеживания этих изменений.
      </p>
      <a class="sim-button" href="simulator.html">Перейти к симулятору</a>
    </div>
    <div class="video-block">
      <video class="lazy-video" autoplay muted loop playsinline preload="none" data-src="https://cdn.pixabay.com/video/2023/03/14/154726-808562497_large.mp4">
        <img src="placeholder-glaciers.jpg" alt="Таяние ледников" style="width:100%;height:auto;border-radius:16px;">
      </video>
    </div>
  </section>

  <script>
    // Оптимизированная загрузка видео с ленивой загрузкой
    document.addEventListener('DOMContentLoaded', function() {
      // Предзагрузка главного видео
      const heroVideo = document.querySelector('.hero-video');
      if (heroVideo) {
        heroVideo.setAttribute('src', heroVideo.querySelector('source').getAttribute('src'));
        heroVideo.load();
      }
      
      // Ленивая загрузка остальных видео при появлении в viewport
      const lazyVideos = document.querySelectorAll('.lazy-video[data-src]');
      
      if ('IntersectionObserver' in window) {
        const lazyVideoObserver = new IntersectionObserver((entries, observer) => {
          entries.forEach(entry => {
            if (entry.isIntersecting) {
              const lazyVideo = entry.target;
              const source = lazyVideo.querySelector('source');
              
              if (source) {
                source.src = lazyVideo.getAttribute('data-src');
                lazyVideo.load();
                lazyVideo.classList.add('loaded');
              }
              
              lazyVideoObserver.unobserve(lazyVideo);
            }
          });
        }, {
          rootMargin: '200px', // Начинаем загружать заранее
          threshold: 0.1
        });
        
        lazyVideos.forEach(lazyVideo => {
          lazyVideoObserver.observe(lazyVideo);
        });
      } else {
        // Fallback для старых браузеров
        lazyVideos.forEach(lazyVideo => {
          const source = lazyVideo.querySelector('source');
          if (source) {
            source.src = lazyVideo.getAttribute('data-src');
            lazyVideo.load();
            lazyVideo.classList.add('loaded');
          }
        });
      }
      
      // Оптимизация воспроизведения видео
      document.addEventListener('scroll', function() {
        lazyVideos.forEach(video => {
          const rect = video.getBoundingClientRect();
          const isVisible = (
            rect.top >= 0 &&
            rect.left >= 0 &&
            rect.bottom <= (window.innerHeight || document.documentElement.clientHeight) &&
            rect.right <= (window.innerWidth || document.documentElement.clientWidth)
          );
          
          if (isVisible && video.paused) {
            video.play().catch(e => console.log('Автовоспроизведение заблокировано:', e));
          } else if (!isVisible && !video.paused) {
            video.pause();
          }
        });
      });
    });
    
    // Оптимизация для мобильных устройств
    function handleMobileOptimization() {
      const isMobile = window.matchMedia('(max-width: 768px)').matches;
      const videos = document.querySelectorAll('video');
      
      videos.forEach(video => {
        if (isMobile) {
          // На мобильных устройствах используем более низкое качество
          const src = video.getAttribute('data-src') || video.querySelector('source')?.src;
          if (src) {
            const mobileSrc = src.replace('_large', '_small'); // Предполагаем, что есть версии видео разных размеров
            video.querySelector('source').src = mobileSrc;
            video.load();
          }
          
          // Отключаем автовоспроизведение на некоторых мобильных устройствах
          if (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)) {
            video.removeAttribute('autoplay');
            video.setAttribute('playsinline', '');
            video.setAttribute('muted', '');
          }
        }
      });
    }
    
    window.addEventListener('load', handleMobileOptimization);
    window.addEventListener('resize', handleMobileOptimization);
  </script>
</body>
</html>
