<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Симулятор уровня CO₂</title>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            margin: 0;
            padding: 0;
            background: linear-gradient(to bottom, #001a33, #003366);
            color: white;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
        }
        
        .container {
            max-width: 900px;
            width: 90%;
            margin: 30px auto;
            padding: 30px;
            background: rgba(0, 20, 40, 0.7);
            border-radius: 15px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        h1 {
            color: #4fc3f7;
            margin-bottom: 10px;
            text-shadow: 0 2px 4px rgba(0,0,0,0.3);
        }
        
        .subtitle {
            color: #b3e5fc;
            margin-bottom: 30px;
            font-size: 1.1em;
        }
        
        .image-container {
            margin: 20px 0;
            min-height: 400px;
            display: flex;
            justify-content: center;
            align-items: center;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 10px;
            padding: 20px;
        }
        
        #co2Image {
            max-width: 100%;
            max-height: 500px;
            border-radius: 8px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.4);
            transition: opacity 0.5s;
        }
        
        .slider-container {
            width: 100%;
            margin: 30px 0;
        }
        
        .date-display {
            font-size: 28px;
            font-weight: bold;
            color: #4fc3f7;
            margin: 15px 0;
            text-shadow: 0 2px 4px rgba(0,0,0,0.3);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .co2-level {
            font-size: 16px;
            color: #b3e5fc;
            display: flex;
            gap: 20px;
        }
        
        .co2-level span {
            background: rgba(0, 60, 120, 0.3);
            padding: 5px 10px;
            border-radius: 5px;
            border-left: 2px solid #2196f3;
        }
        
        input[type="range"] {
            -webkit-appearance: none;
            width: 100%;
            height: 10px;
            background: linear-gradient(90deg, #0d47a1, #2196f3);
            border-radius: 5px;
            outline: none;
            opacity: 0.9;
            transition: opacity .2s;
        }
        
        input[type="range"]:hover {
            opacity: 1;
        }
        
        input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 25px;
            height: 25px;
            border-radius: 50%;
            background: #ffffff;
            cursor: pointer;
            box-shadow: 0 2px 5px rgba(0,0,0,0.3);
            transition: transform .1s;
        }
        
        input[type="range"]::-webkit-slider-thumb:hover {
            transform: scale(1.1);
        }
        
        .year-labels {
            display: flex;
            justify-content: space-between;
            margin-top: 10px;
            color: #b3e5fc;
            font-size: 14px;
        }
        
        .info-panel {
            margin-top: 30px;
            padding: 15px;
            background: rgba(0, 60, 120, 0.3);
            border-radius: 8px;
            border-left: 4px solid #2196f3;
        }
        
        @media (max-width: 768px) {
            .date-display {
                flex-direction: column;
                align-items: flex-start;
                gap: 10px;
            }
            
            .co2-level {
                flex-direction: column;
                gap: 5px;
                align-items: flex-start;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Симулятор уровня CO₂</h1>
        <div class="subtitle">Наблюдайте за глобальными изменениями концентрации CO₂ с сентября 2002 по ноябрь 2022 года (данные NASA)</div>
        
        <div class="image-container">
            <img id="co2Image" src="D:\\img3\\co2_2002_9_0001_720x360.jpg" alt="Карта концентрации CO₂">
        </div>
        
        <div class="slider-container">
            <div class="date-display">
                <div>Дата: <span id="dateValue">Сентябрь 2002</span></div>
                <div class="co2-level">
                    <span id="co2Value">Уровень CO₂: 370 ppm</span>
                    <span id="changeFromStart">Δ с 2002 года: 0 ppm</span>
                </div>
            </div>
            
            <input 
                type="range" 
                id="dateSlider"
                min="1" 
                max="243" 
                value="1" 
                step="1"
                oninput="updateDate(this.value)">
            
            <div class="year-labels">
                <span>Сентябрь 2002</span>
                <span>Ноябрь 2022</span>
            </div>
        </div>
        
        <div class="info-panel">
            <p>Этот симулятор показывает данные NASA о глобальной концентрации углекислого газа (CO₂) в атмосфере. Цвета представляют концентрацию CO₂ в частях на миллион (ppm). Данные: NASA AIRS Project.</p>
        </div>
    </div>

    <script>
        // Генерация данных с сентября 2002 по ноябрь 2022 (243 месяца)
        function generateDateData() {
            const dateData = [];
            const months = ['Январь', 'Февраль', 'Март', 'Апрель', 'Май', 'Июнь', 
                          'Июль', 'Август', 'Сентябрь', 'Октябрь', 'Ноябрь', 'Декабрь'];
            
            let index = 0;
            const startYear = 2002;
            const endYear = 2022;
            const startCO2 = 370;
            const endCO2 = 417;
            const co2Step = (endCO2 - startCO2) / 242;
            
            for (let year = startYear; year <= endYear; year++) {
                const startMonth = year === 2002 ? 8 : 0; // Начинаем с сентября (8) для 2002 года
                const endMonth = year === 2022 ? 10 : 11; // Заканчиваем ноябрем (10) для 2022 года
                
                for (let monthIdx = startMonth; monthIdx <= endMonth; monthIdx++) {
                    index++;
                    const imgNum = String(index).padStart(4, '0');
                    
                    // Определяем путь к изображению
                    let imgPath;
                    if (index <= 100) {
                        imgPath = `D:\\img3\\co2_${year}_${monthIdx+1}_${imgNum}_720x360.jpg`;
                    } else if (index <= 200) {
                        imgPath = `D:\\img4\\co2_${year}_${monthIdx+1}_${imgNum}_720x360.jpg`;
                    } else {
                        imgPath = `D:\\img5\\co2_${year}_${monthIdx+1}_${imgNum}_720x360.jpg`;
                    }
                    
                    // Расчет уровня CO₂ (можно заменить на реальные данные)
                    const co2 = Math.round(startCO2 + (co2Step * (index - 1)) * 10) / 10;
                    
                    dateData.push({
                        year: year,
                        month: months[monthIdx],
                        co2: co2,
                        imgPath: imgPath,
                        index: index
                    });
                }
            }
            
            return dateData;
        }
        
        const dateData = generateDateData();
        const startCO2 = dateData[0].co2;
        
        function updateDate(index) {
            index = parseInt(index);
            const data = dateData.find(item => item.index === index) || dateData[0];
            
            // Обновляем изображение
            document.getElementById('co2Image').src = data.imgPath;
            
            // Обновляем дату и уровень CO₂
            document.getElementById('dateValue').textContent = `${data.month} ${data.year}`;
            document.getElementById('co2Value').textContent = `Уровень CO₂: ${data.co2} ppm`;
            document.getElementById('changeFromStart').textContent = 
                `Δ с 2002 года: +${(data.co2 - startCO2).toFixed(1)} ppm`;
        }
        
        // Инициализация
        updateDate(1);
    </script>
</body>
</html>